<div class="p-4 sm:p-6">
  <header>
    <h1 class="text-2xl sm:text-3xl font-normal text-white bg-gradient-to-r from-blue-500 to-purple-600 p-4 rounded-lg shadow-md text-center mb-4 sm:mb-6 font-roboto">
      Gestión de Productos
    </h1>
  </header>

  <section class="flex flex-col sm:flex-row gap-4 sm:gap-0 justify-between items-stretch sm:items-center mb-4 sm:mb-6">
    <div class="flex-grow sm:w-1/2 lg:w-1/3 flex items-center">
      <input type="search" [(ngModel)]="filtro" placeholder="Buscar producto..." class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-200">
      <button type="button" class="bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-4 py-2 rounded-lg shadow-md transition-colors duration-200 flex items-center justify-center space-x-2 ml-2">
        <span class="material-symbols-outlined">search</span>
      </button>
    </div>
    <button type="button" (click)="openDialog()" class="bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-6 py-2 rounded-lg shadow-md transition-colors duration-200 flex items-center justify-center space-x-2">
      <span class="material-symbols-outlined">add</span>
      <span>Agregar Producto</span>
   </button>
  
  </section>

  <section class="overflow-x-auto rounded-lg shadow-sm ring-1 ring-black ring-opacity-5">
    <table class="min-w-full divide-y divide-gray-200">
      <thead class="bg-gradient-to-r from-blue-500 to-purple-600">
        <tr>
          <th scope="col" class="px-4 py-3 sm:px-6 sm:py-4 text-left text-xs sm:text-sm font-semibold text-white uppercase tracking-wider">Nombre</th>
          <th scope="col" class="px-4 py-3 sm:px-6 sm:py-4 text-left text-xs sm:text-sm font-semibold text-white uppercase tracking-wider hidden sm:table-cell">Descripción</th>
          <th scope="col" class="px-4 py-3 sm:px-6 sm:py-4 text-left text-xs sm:text-sm font-semibold text-white uppercase tracking-wider">Precio</th>
          <th scope="col" class="px-4 py-3 sm:px-6 sm:py-4 text-left text-xs sm:text-sm font-semibold text-white uppercase tracking-wider">Stock</th>
          <th scope="col" class="px-4 py-3 sm:px-6 sm:py-4 text-center text-xs sm:text-sm font-semibold text-white uppercase tracking-wider">Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let producto of productosFiltrados()" class="hover:bg-gray-50 transition-colors duration-150">
          <!-- Nombre -->
          <td class="px-4 py-3 sm:px-6 sm:py-4 text-sm font-medium text-gray-900">
            <input *ngIf="producto.modoEdicion" [(ngModel)]="producto.nombre" class="w-full border rounded px-2 py-1">
            <span *ngIf="!producto.modoEdicion">{{ producto.nombre }}</span>
          </td>
        
          <!-- Descripción -->
          <td class="px-4 py-3 sm:px-6 sm:py-4 text-sm text-gray-500 hidden sm:table-cell">
            <input *ngIf="producto.modoEdicion" [(ngModel)]="producto.descripcion" class="w-full border rounded px-2 py-1">
            <span *ngIf="!producto.modoEdicion">{{ producto.descripcion }}</span>
          </td>
        
          <!-- Precio -->
          <td class="px-4 py-3 sm:px-6 sm:py-4 text-sm text-gray-900 font-medium">
            <input *ngIf="producto.modoEdicion" type="number" [(ngModel)]="producto.precio" class="w-full border rounded px-2 py-1">
            <span *ngIf="!producto.modoEdicion">${{ producto.precio }}</span>
          </td>
        
          <!-- Stock -->
          <td class="px-4 py-3 sm:px-6 sm:py-4 text-sm text-gray-500">
            <input *ngIf="producto.modoEdicion" type="number" [(ngModel)]="producto.stock" class="w-full border rounded px-2 py-1">
            <span *ngIf="!producto.modoEdicion">{{ producto.stock }}</span>
          </td>
        
          <!-- Acciones -->
          <td class="px-4 py-3 sm:px-6 sm:py-4 text-sm text-gray-500 text-center">
            <div class="flex flex-col sm:flex-row sm:space-x-2 gap-y-2 justify-center items-center">
              <button *ngIf="!producto.modoEdicion" type="button" class="bg-blue-500 hover:bg-blue-600 text-white px-3 py-1.5 rounded-md flex items-center justify-center space-x-1 transition-colors duration-200 text-xs sm:text-sm" 
                (click)="editarProducto(producto)">
                <span class="material-symbols-outlined text-base">edit</span>
                <span class="hidden sm:inline">Editar</span>
              </button>
        
              <button *ngIf="producto.modoEdicion" type="button" class="bg-green-500 hover:bg-green-600 text-white px-3 py-1.5 rounded-md flex items-center justify-center space-x-1 transition-colors duration-200 text-xs sm:text-sm" 
                (click)="guardarProducto(producto)">
                <span class="material-symbols-outlined text-base">save</span>
                <span class="hidden sm:inline">Guardar</span>
              </button>
        
              <button type="button" class="bg-red-500 hover:bg-red-600 text-white px-3 py-1.5 rounded-md flex items-center justify-center space-x-1 transition-colors duration-200 text-xs sm:text-sm" 
                (click)="eliminarProducto(producto.id)">
                <span class="material-symbols-outlined text-base">delete</span>
                <span class="hidden sm:inline">Eliminar</span>
              </button>
            </div>
          </td>
        </tr>
        <tr *ngIf="productosFiltrados().length === 0">
          <td colspan="5" class="px-4 py-6 sm:px-6 text-center text-gray-500 text-sm sm:text-base">No hay productos disponibles.</td>
        </tr>
      </tbody>
    </table>
  </section>
</div>

